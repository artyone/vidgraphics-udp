import socket
import time
import random
import struct
import numpy as np
from datetime import datetime, timedelta

data = b"\xff\xff\xff\xff\xff\xff\x00\x55\x22\xb0\x9d\x39\x08\x00\x45\x00" \
b"\x04\xec\x24\x4c\x00\x00\x80\x11\x8e\xb6\xc0\xa8\x01\x0a\xc0\xa8" \
b"\x01\x04\x0d\x49\x07\xdf\x04\xd8\x00\x00\x01\x01\x01\x02\x01\x01" \
b"\x02\x02\x02\x01\x01\x02\x01\x01\x01\x02\x02\x01\x02\x02\x02\x02" \
b"\x01\x01\x02\x01\x02\x02\x01\x01\x01\x02\x02\x02\x01\x01\x02\x02" \
b"\x02\x02\x02\x02\x01\x01\x02\x02\x01\x01\x02\x01\x01\x02\x02\x02" \
b"\x02\x01\x02\x02\x02\x02\x02\x02\x01\x01\x02\x02\x01\x01\x02\x02" \
b"\x01\x02\x02\x02\x01\x02\x02\x01\x01\x01\x02\x02\x02\x01\x01\x01" \
b"\x02\x02\x01\x01\x02\x02\x02\x02\x02\x02\x01\x02\x02\x02\x01\x02" \
b"\x02\x02\x01\x02\x02\x02\x02\x02\x01\x01\x02\x02\x01\x01\x02\x02" \
b"\x02\x01\x02\x02\x01\x01\x02\x01\x01\x01\x02\x02\x01\x02\x02\x01" \
b"\x02\x02\x02\x01\x02\x02\x02\x02\x01\x01\x02\x02\x01\x01\x01\x01" \
b"\x02\x01\x01\x01\x02\x01\x01\x01\x02\x01\x02\x01\x01\x02\x01\x01" \
b"\x02\x02\x01\x02\x02\x01\x01\x01\x02\x02\x01\x02\x02\x01\x01\x02" \
b"\x02\x01\x02\x02\x01\x02\x01\x02\x02\x02\x01\x01\x02\x01\x02\x01" \
b"\x02\x02\x01\x01\x02\x02\x01\x02\x02\x01\x01\x02\x02\x01\x01\x01" \
b"\x01\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x01\x02\x02\x02\x02" \
b"\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02" \
b"\x02\x02\x02\x01\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02" \
b"\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02" \
b"\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02" \
b"\x02\x02\x01\x02\x02\x02\x02\x01\x02\x02\x01\x02\x02\x02\x02\x02" \
b"\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x01\x02\x02" \
b"\x01\x02\x02\x02\x02\x02\x01\x01\x02\x02\x01\x01\x02\x02\x01\x02" \
b"\x02\x02\x02\x01\x02\x01\x01\x02\x02\x02\x02\x02\x01\x01\x02\x02" \
b"\x01\x02\x02\x01\x02\x02\x01\x02\x02\x02\x02\x01\x01\x02\x02\x01" \
b"\x02\x02\x02\x02\x02\x02\x01\x02\x02\x02\x02\x02\x02\x02\x01\x01" \
b"\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x01\x02\x01\x02\x02\x02" \
b"\x01\x02\x02\x02\x02\x02\x02\x01\x01\x02\x02\x02\x02\x01\x02\x02" \
b"\x02\x02\x01\x02\x02\x02\x01\x02\x02\x02\x02\x02\x02\x02\x02\x01" \
b"\x02\x02\x02\x02\x02\x02\x02\x01\x02\x02\x02\x02\x02\x02\x02\x02" \
b"\x01\x02\x01\x02\x01\x02\x02\x01\x02\x02\x01\x01\x01\x02\x01\x02" \
b"\x02\x01\x02\x01\x01\x02\x02\x01\x02\x01\x02\x02\x01\x02\x02\x01" \
b"\x02\x02\x02\x02\x02\x02\x01\x02\x02\x01\x01\x02\x01\x02\x01\x01" \
b"\x01\x02\x01\x02\x02\x01\x01\x01\x02\x01\x01\x01\x02\x01\x01\x01" \
b"\x02\x02\x01\x01\x01\x02\x02\x01\x02\x01\x01\x01\x01\x01\x01\x02" \
b"\x02\x02\x02\x02\x01\x01\x01\x01\x01\x02\x02\x01\x01\x01\x02\x02" \
b"\x02\x01\x01\x02\x01\x01\x01\x01\x02\x02\x01\x01\x02\x02\x01\x02" \
b"\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x02\x02\x01\x01" \
b"\x01\x01\x01\x02\x02\x01\x01\x02\x02\x01\x01\x01\x01\x02\x01\x01" \
b"\x02\x01\x01\x01\x01\x01\x01\x01\x01\x02\x01\x01\x01\x02\x01\x01" \
b"\x02\x01\x02\x01\x02\x02\x02\x02\x02\x01\x02\x02\x01\x01\x02\x02" \
b"\x01\x01\x02\x02\x01\x02\x01\x01\x02\x02\x02\x01\x01\x02\x02\x01" \
b"\x02\x02\x01\x02\x02\x01\x02\x02\x02\x02\x02\x02\x02\x02\x02\x01" \
b"\x02\x02\x02\x02\x01\x02\x02\x01\x02\x02\x01\x02\x02\x02\x02\x02" \
b"\x02\x01\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02" \
b"\x01\x02\x02\x02\x02\x01\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02" \
b"\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02" \
b"\x02\x02\x01\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02" \
b"\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x01\x02" \
b"\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02" \
b"\x02\x02\x02\x01\x02\x02\x02\x02\x02\x01\x02\x02\x02\x02\x02\x02" \
b"\x02\x02\x01\x01\x02\x02\x02\x01\x02\x02\x02\x02\x01\x02\x02\x01" \
b"\x02\x01\x02\x01\x01\x02\x02\x02\x02\x02\x01\x02\x02\x02\x02\x02" \
b"\x01\x02\x02\x02\x01\x02\x02\x02\x02\x02\x02\x01\x02\x02\x01\x01" \
b"\x02\x02\x02\x02\x02\x01\x01\x02\x02\x02\x01\x02\x02\x02\x02\x02" \
b"\x01\x01\x02\x02\x01\x02\x02\x01\x02\x02\x02\x02\x02\x02\x01\x01" \
b"\x02\x02\x02\x01\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x01\x02" \
b"\x02\x02\x02\x02\x02\x01\x01\x02\x02\x02\x02\x02\x02\x01\x02\x02" \
b"\x02\x02\x02\x02\x01\x02\x02\x01\x01\x02\x02\x02\x02\x01\x02\x01" \
b"\x01\x02\x02\x01\x02\x02\x01\x01\x02\x02\x02\x01\x01\x01\x02\x02" \
b"\x02\x02\x01\x01\x02\x01\x02\x02\x02\x02\x02\x01\x01\x02\x02\x01" \
b"\x02\x02\x01\x02\x02\x02\x02\x02\x02\x02\x01\x02\x02\x02\x02\x02" \
b"\x02\x02\x02\x02\x01\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02\x02" \
b"\x01\x02\x02\x02\x02\x02\x02\x01\x02\x02\x01\x02\x02\x02\x02\x02" \
b"\x02\x02\x02\x02\x01\x01\x02\x02\x02\x02\x02\x01\x02\x02\x02\x02" \
b"\x01\x02\x02\x01\x01\x01\x02\x01\x02\x02\x02\x00\x00\x00\x00\x00" \
b"\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xe6" \
b"\x5b\x14\x02\x16\x08\xa0\x02\x08\x00\x02\x7e\x04\x12\x03\xe2\x03" \
b"\xd7\x04\x06\x03\xeb\x04\x03\x0c\x08\xff\xfa\x00\xa3\xff\xf4\x0e" \
b"\x38\xff\xfa\xff\xfd\x01\x1c\xff\xfa\xff\xfe\xfe\x1d\xfe\x3e\xfe" \
b"\x54\x00\x30\xff\xce\xff\x33\x0f\xff\xff\x39\xff\xfc\xff\xf7\xff" \
b"\xfe\xff\xf7\xff\xf8\xff\xf9\xff\xf4\xff\xfa\xff\x88\xff\xf9\xff" \
b"\x63\xff\xfa\xff\xfb\xff\xfb\xff\xf2\xff\xfd\x00\x00\x00\x00\x00" \
b"\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00" \
b"\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00" \
b"\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00" \
b"\x00\xff\xf1\xab\xcd\x00\x2d\x96\x21\x00\x00\x00\x00\x00\x00\x00" \
b"\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00" \
b"\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"



UDP_IP = "localhost"  # адрес назначения для broadcast
UDP_PORT = 2015  # порт, на который отправляется сообщение

# Создаем UDP-сокет
sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)

# Устанавливаем опцию сокета для разрешения broadcast
sock.setsockopt(socket.SOL_SOCKET, socket.SO_BROADCAST, 1)


# for i in range(1000):
while True:
    # x = random.randint(0, 100)
    # y = random.randint(0, 100)
    # z = random.randint(0, 100)


    sock.sendto(data[42:], (UDP_IP, UDP_PORT))
    # print('сообщение отправлено', struct.unpack('>' + 'BBI' + 'B' * 31, packet))
    # print('сообщение отправлено', packet)
    # print('отправлено')
    time.sleep(0.0001)
